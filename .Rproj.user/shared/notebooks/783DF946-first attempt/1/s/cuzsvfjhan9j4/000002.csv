"0","rmses <- sapply(lambdas, function(l){"
"0","    "
"0","    mu_reg <- mean(edx$rating)"
"0","    "
"0","    b_i_reg <- edx %>% "
"0","      group_by(movieId) %>%"
"0","      summarize(b_i_reg = sum(rating - mu_reg)/(n()+l))"
"0","    "
"0","    b_u_reg <- edx %>% "
"0","      left_join(b_i_reg, by=""movieId"") %>%"
"0","      group_by(userId) %>%"
"0","      summarize(b_u_reg = sum(rating - b_i_reg - mu_reg)/(n()+l))"
"0","    "
"0","    predicted_ratings_b_i_u <- "
"0","      validation %>% "
"0","      left_join(b_i_reg, by = ""movieId"") %>%"
"0","      left_join(b_u_reg, by = ""userId"") %>%"
"0","      mutate(pred = mu_reg + b_i_reg + b_u_reg) %>%"
"0","      .$pred"
"0","    "
"0","    return(RMSE(validation$rating,predicted_ratings_b_i_u))"
"0","  })"
